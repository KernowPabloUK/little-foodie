{% load static %}
{% url 'logs' as logs_url %}
{% url 'stats' as stats_url %}
{% url 'profile' as profiles_url %}
{% url 'admin:index' as admin_url %}
{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% url 'account_logout' as logout_url %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Little Foodie | Track Tiny Tastes, One Bite at a Time</title>

    <!-- SEO and Google Indexing Meta Tags -->
    <meta name="description" content="Little Foodie - Baby Weaning Tracker. Track your baby's meals, view stats, and manage weaning logs easily.">
    <meta name="keywords" content="baby weaning, baby food, meal tracker, weaning log, baby stats, infant nutrition, health, diet">
    <meta name="author" content="calculatedCode">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="{{ request.build_absolute_uri }}">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/favicons/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicons/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicons/favicon-16x16.png' %}">
    <link rel="shortcut icon" href="{% static 'images/favicons/favicon.ico' %}">
    <link rel="manifest" href="{% static 'images/favicons/site.webmanifest' %}">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" 
    crossorigin="anonymous">

    <!-- Custom CSS -->
    <link href="{% static 'css/styles.css' %}"
    rel="stylesheet">

</head>
    <body class="d-flex flex-column h-100 main-bg">
        <nav class="navbar navbar-expand-md w-100">
            <div class="container-fluid">
                <a class="navbar-brand" href="{% url 'home' %}"
                    ><span class="brand"><img id="navbar-logo-base" src="{% static 'images/little_foodie_logo.png' %}" alt="Little Foodie Logo"></span
                    ></a
                >
                <div class="ms-auto">
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarText"
                    aria-controls="navbarText"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    {% if user.is_authenticated %}
                        {% if user.is_staff %}
                        <li class="nav-item mx-2">
                            <a class="nav-link{% if request.path == admin_url %} active fw-bold{% endif %}" aria-current="page"
                                href="{% url 'admin:index' %}">Admin Panel</a>
                        </li>
                        {% endif %}
                        <li class="nav-item mx-2">
                            <a class="nav-link{% if request.path == logs_url %} active fw-bold{% endif %}" aria-current="page"
                                href="{% url 'logs' %}">Food Logs</a>
                        </li>
                        <li class="nav-item mx-2">
                            <a class="nav-link{% if request.path == stats_url %} active fw-bold{% endif %}" aria-current="page"
                                href="{% url 'stats' %}">Stats</a>
                        </li>
                        <li class="nav-item mx-2">
                            <a class="nav-link{% if request.path == profiles_url %} active fw-bold{% endif %}" aria-current="page"
                                href="{% url 'profile' %}">Profile</a>
                        </li>
                        <li class="nav-item mx-2">
                            <a class="nav-link {% if request.path == logout_url %}active" aria-current="page{% endif %}"
                                href="{% url 'account_logout' %}">Logout</a>
                        </li>
                    {% else %}
                        <li class="nav-item mx-2">
                            <a class="nav-link{% if request.path == login_url %} active fw-bold{% endif %}" aria-current="page"
                                href="{% url 'account_login' %}">Login</a>
                        </li>
                        <li class="nav-item mx-2">
                            <a class="nav-link{% if request.path == signup_url %} active fw-bold{% endif %}" aria-current="page"
                                href="{% url 'account_signup' %}">Sign Up</a>
                        </li>
                    {% endif %}
                </ul>
                </div>
                </div>
            </div>
        </nav>

        {% block content %}
        {% endblock content %}

    <footer id="contact" class="footer d-flex mt-auto justify-content-center text-center align-items-center">
        <div class="container py-2">
            <div class="row align-items-center">
                <div class="col-4">
                    <a href="#" data-bs-toggle="modal" data-bs-target="#aboutAppModal">
                        About this app
                    </a>
                    <div class="modal fade" id="aboutAppModal" tabindex="-1" aria-labelledby="aboutAppModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="aboutAppModalLabel">About Little Foodie</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <ul class="nav nav-tabs mb-3" id="aboutAppTab" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link active" id="howto-tab" data-bs-toggle="tab" data-bs-target="#howto" type="button" role="tab" aria-controls="howto" aria-selected="true">
                                                How to use the app
                                            </button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab" aria-controls="info" aria-selected="false">
                                                Information &amp; Sources
                                            </button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="disclaimer-tab" data-bs-toggle="tab" data-bs-target="#disclaimer" type="button" role="tab" aria-controls="disclaimer" aria-selected="false">
                                                Disclaimer
                                            </button>
                                        </li>
                                    </ul>
                                    <div class="tab-content">
                                        <div class="tab-pane fade show active" id="howto" role="tabpanel" aria-labelledby="howto-tab">
                                            <div id="aboutAppCarousel" class="carousel about-carousel mx-auto" data-bs-ride="false" style="max-width: 28rem;">
                                                <div class="carousel-inner">
                                                    <div class="carousel-item active text-center">
                                                        <img src="https://via.placeholder.com/400x200?text=Step+1" class="mb-3" alt="Step 1">
                                                        <h6>Step 1: Create a Profile</h6>
                                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae velit ex.</p>
                                                    </div>
                                                    <div class="carousel-item text-center">
                                                        <img src="https://via.placeholder.com/400x200?text=Step+2" class="mb-3" alt="Step 2">
                                                        <h6>Step 2: Add Your Child</h6>
                                                        <p>Maecenas sit amet tincidunt elit. Etiam nec magna euismod, cursus erat at, dictum erat.</p>
                                                    </div>
                                                    <div class="carousel-item text-center">
                                                        <img src="https://via.placeholder.com/400x200?text=Step+3" class="mb-3" alt="Step 3">
                                                        <h6>Step 3: Log Foods</h6>
                                                        <p>Curabitur ac urna eu felis dapibus condimentum sit amet a augue. Sed non neque elit.</p>
                                                    </div>
                                                    <div class="carousel-item text-center">
                                                        <img src="https://via.placeholder.com/400x200?text=Step+4" class="mb-3" alt="Step 4">
                                                        <h6>Step 4: View Stats</h6>
                                                        <p>Morbi in sem quis dui placerat ornare. Pellentesque odio nisi, euismod in, pharetra a, ultricies in, diam.</p>
                                                    </div>
                                                </div>
                                                <button class="carousel-control-prev" type="button" data-bs-target="#aboutAppCarousel" data-bs-slide="prev">
                                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                    <span class="visually-hidden">Previous</span>
                                                </button>
                                                <button class="carousel-control-next" type="button" data-bs-target="#aboutAppCarousel" data-bs-slide="next">
                                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                    <span class="visually-hidden">Next</span>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="info" role="tabpanel" aria-labelledby="info-tab">
                                            <div class="p-3 text-start">
                                                <h3>Information &amp; Sources</h3>
                                                <p>
                                                    <strong>Is your baby ready to start weaning?</strong><br>
                                                    Signs your baby may be ready include: sitting up and holding their head steady, coordinating eyes, hands and mouth, and swallowing food rather than spitting it out. Most babies are ready at around 6 months old.<br>
                                                    <a class="about-external-link" href="https://www.nhs.uk/start-for-life/baby/weaning/" target="_blank" rel="noopener">Read more on NHS: When to start weaning</a>
                                                </p>
                                                <p>
                                                    <strong>Safe Weaning</strong><br>
                                                    When introducing potential allergens (like egg or peanut), offer them in the morning or early in the day. This allows you to monitor your baby for any reactions and seek medical help if needed.<br>
                                                    <a class="about-external-link" href="https://www.nhs.uk/start-for-life/baby/weaning/safe-weaning/food-allergies/" target="_blank" rel="noopener">Read more on NHS: Safe Weaning</a>
                                                </p>
                                                <p>
                                                    <strong>Other points to consider:</strong>
                                                    <br>
                                                    Always supervise your baby while eating to prevent choking.<br>
                                                    Introduce one new food at a time and wait a few days before trying another.<br>
                                                    Offer a variety of textures and tastes, but avoid adding salt or sugar.<br>
                                                    Continue to offer breast milk or formula alongside solid foods until at least 12 months
                                                </p>
                                                <p>
                                                    For up-to-date advice, please refer to the <a class="about-external-link" href="https://www.nhs.uk/start-for-life/baby/weaning/" target="_blank" rel="noopener">NHS</a> and the <a class="about-external-link" href="https://www.food.gov.uk/" target="_blank" rel="noopener">Food Standards Agency</a>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="disclaimer" role="tabpanel" aria-labelledby="disclaimer-tab">
                                            <div class="p-3 text-start">
                                                <h4>Disclaimer</h4>
                                                <p>
                                                    It is the responsibility of the parent/care-giver to ensure that all foods given to children are appropriate for their age and free from allergens or ingredients that may cause harm.
                                                </p>
                                                <p>
                                                    Always check for potential allergies and follow age-related food guidelines. 
                                                </p>
                                                <p>
                                                    For up-to-date advice, please refer to the <a class="about-external-link" href="https://www.nhs.uk/start-for-life/baby/weaning/" target="_blank" rel="noopener">NHS</a> and the <a class="about-external-link" href="https://www.food.gov.uk/" target="_blank" rel="noopener">Food Standards Agency</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="copyright-home" class="col-4">
                    {% block copyright %}
                    Copyright 2025 - calculatedCode
                    {% endblock %}
                </div>
                <div class="col-4">
                    <a class="footer-icon" href="https://maps.app.goo.gl/TjEtaQj59vY42m9n8" target="_blank" rel="noopener" aria-label="Visit our Google Maps main training location page (opens in a new tab)">
                        <i class="fa-solid fa-location-dot" aria-hidden="true"></i>Contact Us</a>
                </div>
            </div>
        </div>
    </footer>

        <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
    crossorigin="anonymous"></script>

    {% block extra_js %}{% endblock %}
</body>
</html>